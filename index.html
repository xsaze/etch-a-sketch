<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etch A Sketch</title>
    <link rel="stylesheet" href="./styles.css" type="text/css">
</head>
<body>
    <div id='title'>Etch A Sketch</div>
    <button id='button1' >New Page</button> 
</body>
<script>
    var x = prompt('Choose size? Max size: 64.')
    document.body.onload = createGrid(x);
    listener();

    var btn = document.getElementById('button1');
    btn.addEventListener('click', newGrid);

    function newGrid() {
        const el = document.getElementById('grid');
        el.remove();
        var x = prompt('Choose size? Max size: 64.');
        createGrid(x);
        listener();
    }

    function createGrid(v) {
    var el = document.createElement('div');
    el.id = 'grid';
    for (var i = 0; i < v; i++) {
        var row = document.createElement('div');
        row.className = 'row';
        for (var x = 1; x <= v; x++) {
            var cell = document.createElement('div');
            cell.className = 'gridsquare';
            cell.id = (i * v) + x;
            row.appendChild(cell);
        }
        el.appendChild(row);
    }
    let button = document.getElementById('button1')
    document.body.insertBefore (el, button);
    }

    function paintBlack(e) {
        if (e.buttons > 0) {
        e.target.style.backgroundColor = 'black';}
    };
    /* LISTENER */
    function listener() {
    const cells = document.getElementsByClassName('gridsquare');
    Array.from(cells).forEach((cell) => {
        cell.addEventListener('mouseover', paintBlack)
    })}

    

    
    /*function addElement() {
        const newDiv = document.createElement('div');
        const newContent = document.createTextNode('Example text');
        newDiv.appendChild(newContent);
        
        container.appendChild(newDiv);

    }*/
</script>
</html>